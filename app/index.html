<!doctype html>
<html lang="en" ng-app="demoApp">
<head>
  <meta charset="utf-8">
  <title>Telemotiv Demo</title>
  <link rel="stylesheet" href="css/app.css"/>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfp_hp8bSjJv8zCJ5ifsDOv9ClhjdZVk8&sensor=false"></script>
  <script type="text/javascript">
    function getPoints(file, result) {
      $.get(file, function(data) {
        var points = data.split(';');
        result(points)
      });  
    }
  </script>
  <script type="text/javascript">
    function plotPoints(file) {
      getPoints(file, function(points){
        var marker
        var count = 0
        for (key in points) {
          arr = $.trim(points[key]).split(','); 
          latlng = new google.maps.LatLng(arr[0], arr[1])
          if (count == 0) {
            marker = new google.maps.Marker({
                position: latlng,
                map: map,
                title:"2001 BMW X5",
                icon: "img/green_car.png"
            });
          } else {
            setTimeout(function(marker, latlng) {
              marker.setPosition(latlng)
            }, 3000 * count, marker, latlng)
          }
          count++;
        }
      });
    }
  </script>
  <script type="text/javascript">
    var map
    function initialize() {
      var mapOptions = {
        center: new google.maps.LatLng(45.52, -122.6819),
        zoom: 12
      };
      map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
    }
    google.maps.event.addDomListener(window, 'load', initialize);
  </script>
</head>
<body ng-controller="MapData">

  <div id="map-canvas"/>

  <script type="text/javascript">
    setTimeout(plotPoints, 1000, 'data/points1');

  </script>


  <!-- Plot and move points -->
  <script type="text/javascript">
    
  </script>

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.13/angular.min.js"></script>
  <!--<script src="lib/angular/angular.js"></script>-->
  <script src="lib/angular/angular-route.js"></script>
  <script src="js/app.js"></script>
  <script src="js/services.js"></script>
  <script src="js/controllers.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/directives.js"></script>
  
</body>
</html>
